<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Favourites</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <!-- Subscribe to favourites observable -->
  <ng-container *ngIf="favourites$ | async as favs">

    <!-- List of favourite recipes -->
    <ion-list *ngIf="favs.length > 0; else emptyState">
      <ion-item *ngFor="let r of favs" [routerLink]="['/recipe-details', r.id]">
        <ion-thumbnail slot="start">
          <img [src]="r.image" [alt]="r.title" />
        </ion-thumbnail>

        <ion-label>
          <h2>{{ r.title }}</h2>
        </ion-label>

        <!-- Remove recipe from favourites -->
        <ion-button fill="clear" slot="end" (click)="$event.stopPropagation(); remove(r.id)">
          Remove
        </ion-button>
      </ion-item>
    </ion-list>

    <!-- Shown when there are no favourites -->
    <ng-template #emptyState>
      <ion-text class="ion-padding">
        No favourites yet.
      </ion-text>
    </ng-template>

  </ng-container>

</ion-content>